@model AgencijaZaNekretnine.Models.NekretninaBO

@{

}

<h2 style="margin: 0 25px;">Detalji</h2>
<div class="card" style="margin: 0 25px;">
    <div class="card-body">
        <div class="row" style="margin-bottom: 30px;">
            <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner">
                    @if (Model.ImgUrls.Any())
                    {
                        if (Model.Slika != null)
                        {
                            <div class="carousel-item active">
                                <img class="d-block w-100" src="~/Images/@Model.Slika" alt="@Model.Adresa - @Model.Slika" style="height:500px; width: 100%;object-fit:cover;">
                            </div>
                            @foreach (var item in Model.ImgUrls)
                            {
                                <div class="carousel-item">
                                    <img class="d-block w-100" src="~/Images/@item.UrlSlike" alt="@Model.Adresa - @item.UrlSlike" style="height:500px; width: 100%;object-fit:cover;">
                                </div>
                            }
                        }
                        else
                        {
                            <div class="carousel-item active">
                                <img class="d-block w-100" src="~/Images/@Model.ImgUrls.First().UrlSlike" alt="@Model.Adresa - @ViewBag.PrvaSlika" style="height:500px; width: 100%;object-fit:cover;">
                            </div>
                            @foreach (var item in Model.ImgUrls.Skip(1))
                            {
                                <div class="carousel-item">
                                    <img class="d-block w-100" src="~/Images/@item.UrlSlike" alt="@Model.Adresa - @item.UrlSlike" style="height:500px; width: 100%;object-fit:cover;">
                                </div>
                            }
                        }
                    }
                    else if (Model.Slika != null)
                    {
                        <div class="carousel-item active">
                            <img class="d-block w-100" src="~/Images/@Model.Slika" alt="@Model.Adresa - @Model.Slika" style="height:470px; width: 100%;object-fit:cover;">
                        </div>
                    }
                    
                </div>
                <button class="carousel-control-prev" data-bs-target="#carouselExampleControls" role="button" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" data-bs-target="#carouselExampleControls" role="button" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                </button>
            </div>
        </div>
        <div>
            <h4>@Model.Adresa</h4>
            <h3>@Model.Cena €</h3>
            <div class="row" style="border-top: 1px solid black; border-bottom: 1px solid black; margin-top: 60px;" >
                <div class="col-md-4">
                    <h6 style="margin-top: 10px;">Tip nekretnine:</h6>
                    <p><i class="fa-solid fa-house"></i>  @Model.Tip.Naziv</p>
                </div>
                <div class="col-md-4">
                    <h6 style="margin-top: 10px;">Velicina:</h6>
                    <p><i class="fa-solid fa-expand"></i>  @Model.Kvadratura m2</p>
                </div>
                <div class="col-md-4">
                    <h6 style="margin-top: 10px;">Broj soba:</h6>
                    <p><i class="fa-solid fa-bed"></i>  @Model.BrojSoba</p>
                </div>
            </div>
            <div class="row" style="margin-top: 20px; margin-bottom: 40px;" >
                <h4>Opis: </h4>
                @*<p>@Model.Opis.Replace("." , ".\r\n");</p>*@
                @if (!string.IsNullOrEmpty(Model.Opis))
                {
                    var lines = Model.Opis.Split(new[] { '\r', '\n' }, StringSplitOptions.RemoveEmptyEntries);
                    foreach(var line in lines)
                    {
                        <p>@line</p>
                    }
                }
            </div>
            <div class="row" style="margin-top: 20px; margin-bottom: 40px;">
                <h4>Agent: </h4>
                <p>@Model.Agent.FirstName @Model.Agent.LastName</p>
            </div>
            <div>
                <a type="button" class="btn btn-primary btn-sm" asp-action="Index" style="height:45px !important; text-align:center; padding-top: 10px; ">Vrati se nazad</a>
            </div>
        </div>
    </div>
</div>

@section Styles{
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    @*<link href="~/css/nekretnina.css" rel="stylesheet" />*@
}
@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
